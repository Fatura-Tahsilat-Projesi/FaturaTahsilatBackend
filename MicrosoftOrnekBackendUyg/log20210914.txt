2021-09-14 10:45:08.969 +03:00 [INF] User profile is available. Using 'C:\Users\muti5\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-14 10:45:09.659 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-14 10:45:09.663 +03:00 [INF] Hosting environment: Development
2021-09-14 10:45:09.678 +03:00 [INF] Content root path: C:\Users\muti5\source\repos\MicrosoftOrnekBackendUyg\MicrosoftOrnekBackendUyg
2021-09-14 10:45:09.751 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/api/invoices - -
2021-09-14 10:45:09.927 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-09-14 10:45:09.936 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-09-14 10:45:09.973 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44389/api/invoices - - - 401 - - 225.6683ms
2021-09-14 10:45:27.603 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44389/api/companies/ - -
2021-09-14 10:45:27.610 +03:00 [INF] CORS policy execution successful.
2021-09-14 10:45:27.617 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44389/api/companies/ - - - 204 - - 13.5623ms
2021-09-14 10:45:27.727 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/api/companies/ - -
2021-09-14 10:45:27.732 +03:00 [INF] CORS policy execution successful.
2021-09-14 10:45:27.953 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-09-14 10:45:28.025 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2021-09-14 10:45:28.030 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-09-14 10:45:28.036 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-09-14 10:45:28.041 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44389/api/companies/ - - - 401 - - 313.8650ms
2021-09-14 10:45:40.860 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44389/api/auth/CreateToken - -
2021-09-14 10:45:40.863 +03:00 [INF] CORS policy execution successful.
2021-09-14 10:45:40.867 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44389/api/auth/CreateToken - - - 204 - - 7.2020ms
2021-09-14 10:45:40.874 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44389/api/auth/CreateToken application/json;+charset=UTF-8 58
2021-09-14 10:45:40.877 +03:00 [INF] CORS policy execution successful.
2021-09-14 10:45:40.882 +03:00 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2021-09-14 10:45:40.886 +03:00 [INF] Executing endpoint 'MicrosoftOrnekBackendUyg.Controllers.AuthController.CreateToken (MicrosoftOrnekBackendUyg)'
2021-09-14 10:45:40.939 +03:00 [INF] Route matched with {action = "CreateToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateToken(MicrosoftOrnekBackendUyg.Core.DTOs.LoginDto) on controller MicrosoftOrnekBackendUyg.Controllers.AuthController (MicrosoftOrnekBackendUyg).
2021-09-14 10:45:41.947 +03:00 [INF] Entity Framework Core 5.0.9 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=MicrosoftOrnekBackendUyg.Data 
2021-09-14 10:45:42.359 +03:00 [INF] Executed DbCommand (42ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[City], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-09-14 10:45:42.526 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserId], [u].[Code], [u].[Expiration]
FROM [UserRefreshTokens] AS [u]
WHERE [u].[UserId] = @__user_Id_0
2021-09-14 10:45:42.642 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p2='?' (Size = 450), @p0='?' (Size = 200), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UserRefreshTokens] SET [Code] = @p0, [Expiration] = @p1
WHERE [UserId] = @p2;
SELECT @@ROWCOUNT;
2021-09-14 10:45:42.677 +03:00 [INF] Executing CreatedResult, writing value of type 'MicrosoftOrnekBackendUyg.Common.DTOs.Response`1[[MicrosoftOrnekBackendUyg.Core.DTOs.TokenDto, MicrosoftOrnekBackendUyg.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-09-14 10:45:42.721 +03:00 [INF] Executed action MicrosoftOrnekBackendUyg.Controllers.AuthController.CreateToken (MicrosoftOrnekBackendUyg) in 1773.1548ms
2021-09-14 10:45:42.725 +03:00 [INF] Executed endpoint 'MicrosoftOrnekBackendUyg.Controllers.AuthController.CreateToken (MicrosoftOrnekBackendUyg)'
2021-09-14 10:45:42.734 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44389/api/auth/CreateToken application/json;+charset=UTF-8 58 - 201 - application/json;+charset=utf-8 1860.3707ms
2021-09-14 10:46:16.390 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44389/api/companies/ - -
2021-09-14 10:46:16.394 +03:00 [INF] CORS policy execution successful.
2021-09-14 10:46:16.397 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44389/api/companies/ - - - 204 - - 6.9156ms
2021-09-14 10:46:16.409 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/api/companies/ - -
2021-09-14 10:46:16.418 +03:00 [INF] CORS policy execution successful.
2021-09-14 10:46:16.438 +03:00 [INF] Successfully validated the token.
2021-09-14 10:46:16.443 +03:00 [INF] Authorization was successful.
2021-09-14 10:46:16.447 +03:00 [INF] Executing endpoint 'MicrosoftOrnekBackendUyg.Controllers.CompaniesController.GetAll (MicrosoftOrnekBackendUyg)'
2021-09-14 10:46:16.455 +03:00 [INF] Route matched with {action = "GetAll", controller = "Companies"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller MicrosoftOrnekBackendUyg.Controllers.CompaniesController (MicrosoftOrnekBackendUyg).
2021-09-14 10:46:16.490 +03:00 [INF] Entity Framework Core 5.0.9 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=MicrosoftOrnekBackendUyg.Data 
2021-09-14 10:46:16.512 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Category], [c].[CompanyCode], [c].[Name]
FROM [Companies] AS [c]
2021-09-14 10:46:16.524 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MicrosoftOrnekBackendUyg.Core.Models.Company, MicrosoftOrnekBackendUyg.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-09-14 10:46:16.542 +03:00 [INF] Executed action MicrosoftOrnekBackendUyg.Controllers.CompaniesController.GetAll (MicrosoftOrnekBackendUyg) in 84.0616ms
2021-09-14 10:46:16.547 +03:00 [INF] Executed endpoint 'MicrosoftOrnekBackendUyg.Controllers.CompaniesController.GetAll (MicrosoftOrnekBackendUyg)'
2021-09-14 10:46:16.555 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44389/api/companies/ - - - 200 - application/json;+charset=utf-8 145.6436ms
2021-09-14 10:46:28.016 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44389/api/companies/ - -
2021-09-14 10:46:28.019 +03:00 [INF] CORS policy execution successful.
2021-09-14 10:46:28.022 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44389/api/companies/ - - - 204 - - 6.0144ms
2021-09-14 10:46:28.027 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44389/api/companies/ application/json;+charset=UTF-8 58
2021-09-14 10:46:28.031 +03:00 [INF] CORS policy execution successful.
2021-09-14 10:46:28.036 +03:00 [INF] Successfully validated the token.
2021-09-14 10:46:28.039 +03:00 [INF] Authorization was successful.
2021-09-14 10:46:28.043 +03:00 [INF] Executing endpoint 'MicrosoftOrnekBackendUyg.Controllers.CompaniesController.Save (MicrosoftOrnekBackendUyg)'
2021-09-14 10:46:28.048 +03:00 [INF] Route matched with {action = "Save", controller = "Companies"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Save(MicrosoftOrnekBackendUyg.Core.Models.Company) on controller MicrosoftOrnekBackendUyg.Controllers.CompaniesController (MicrosoftOrnekBackendUyg).
2021-09-14 10:46:28.058 +03:00 [INF] Entity Framework Core 5.0.9 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=MicrosoftOrnekBackendUyg.Data 
2021-09-14 10:46:28.111 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Companies] ([Category], [CompanyCode], [Name])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [Companies]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2021-09-14 10:46:28.135 +03:00 [INF] MicrosoftOrnekBackendUyg.Core.Models.Company Ekleme Yapıldı.
2021-09-14 10:46:28.139 +03:00 [INF] Executing OkObjectResult, writing value of type 'MicrosoftOrnekBackendUyg.Core.Models.Company'.
2021-09-14 10:46:28.143 +03:00 [INF] Executed action MicrosoftOrnekBackendUyg.Controllers.CompaniesController.Save (MicrosoftOrnekBackendUyg) in 91.2575ms
2021-09-14 10:46:28.147 +03:00 [INF] Executed endpoint 'MicrosoftOrnekBackendUyg.Controllers.CompaniesController.Save (MicrosoftOrnekBackendUyg)'
2021-09-14 10:46:28.150 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44389/api/companies/ application/json;+charset=UTF-8 58 - 200 - application/json;+charset=utf-8 122.3581ms
2021-09-14 10:46:28.210 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/api/companies/ - -
2021-09-14 10:46:28.213 +03:00 [INF] CORS policy execution successful.
2021-09-14 10:46:28.219 +03:00 [INF] Successfully validated the token.
2021-09-14 10:46:28.222 +03:00 [INF] Authorization was successful.
2021-09-14 10:46:28.226 +03:00 [INF] Executing endpoint 'MicrosoftOrnekBackendUyg.Controllers.CompaniesController.GetAll (MicrosoftOrnekBackendUyg)'
2021-09-14 10:46:28.230 +03:00 [INF] Route matched with {action = "GetAll", controller = "Companies"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller MicrosoftOrnekBackendUyg.Controllers.CompaniesController (MicrosoftOrnekBackendUyg).
2021-09-14 10:46:28.239 +03:00 [INF] Entity Framework Core 5.0.9 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=MicrosoftOrnekBackendUyg.Data 
2021-09-14 10:46:28.246 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Category], [c].[CompanyCode], [c].[Name]
FROM [Companies] AS [c]
2021-09-14 10:46:28.251 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MicrosoftOrnekBackendUyg.Core.Models.Company, MicrosoftOrnekBackendUyg.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-09-14 10:46:28.255 +03:00 [INF] Executed action MicrosoftOrnekBackendUyg.Controllers.CompaniesController.GetAll (MicrosoftOrnekBackendUyg) in 20.3233ms
2021-09-14 10:46:28.259 +03:00 [INF] Executed endpoint 'MicrosoftOrnekBackendUyg.Controllers.CompaniesController.GetAll (MicrosoftOrnekBackendUyg)'
2021-09-14 10:46:28.262 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44389/api/companies/ - - - 200 - application/json;+charset=utf-8 52.3831ms
2021-09-14 11:19:06.117 +03:00 [INF] User profile is available. Using 'C:\Users\muti5\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-14 11:19:06.708 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-14 11:19:06.717 +03:00 [INF] Hosting environment: Development
2021-09-14 11:19:06.727 +03:00 [INF] Content root path: C:\Users\muti5\source\repos\MicrosoftOrnekBackendUyg\MicrosoftOrnekBackendUyg
2021-09-14 11:19:06.782 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/api/invoices - -
2021-09-14 11:22:15.591 +03:00 [INF] User profile is available. Using 'C:\Users\muti5\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-14 11:22:16.135 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-14 11:22:16.138 +03:00 [INF] Hosting environment: Development
2021-09-14 11:22:16.142 +03:00 [INF] Content root path: C:\Users\muti5\source\repos\MicrosoftOrnekBackendUyg\MicrosoftOrnekBackendUyg
2021-09-14 11:22:16.207 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/api/invoices - -
2021-09-14 11:24:01.703 +03:00 [INF] User profile is available. Using 'C:\Users\muti5\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-14 11:24:02.247 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-14 11:24:02.250 +03:00 [INF] Hosting environment: Development
2021-09-14 11:24:02.253 +03:00 [INF] Content root path: C:\Users\muti5\source\repos\MicrosoftOrnekBackendUyg\MicrosoftOrnekBackendUyg
2021-09-14 11:24:02.355 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/api/invoices - -
2021-09-14 11:25:02.323 +03:00 [INF] User profile is available. Using 'C:\Users\muti5\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-14 11:25:02.866 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-14 11:25:02.869 +03:00 [INF] Hosting environment: Development
2021-09-14 11:25:02.873 +03:00 [INF] Content root path: C:\Users\muti5\source\repos\MicrosoftOrnekBackendUyg\MicrosoftOrnekBackendUyg
2021-09-14 11:25:02.942 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/api/invoices - -
2021-09-14 11:27:29.398 +03:00 [INF] User profile is available. Using 'C:\Users\muti5\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-14 11:27:30.003 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-14 11:27:30.005 +03:00 [INF] Hosting environment: Development
2021-09-14 11:27:30.010 +03:00 [INF] Content root path: C:\Users\muti5\source\repos\MicrosoftOrnekBackendUyg\MicrosoftOrnekBackendUyg
2021-09-14 11:27:30.070 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/api/invoices - -
2021-09-14 11:27:41.034 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-09-14 11:27:41.041 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-09-14 11:27:41.079 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44389/api/invoices - - - 401 - - 11012.1025ms
2021-09-14 11:29:12.039 +03:00 [INF] User profile is available. Using 'C:\Users\muti5\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-14 11:29:12.629 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-14 11:29:12.632 +03:00 [INF] Hosting environment: Development
2021-09-14 11:29:12.635 +03:00 [INF] Content root path: C:\Users\muti5\source\repos\MicrosoftOrnekBackendUyg\MicrosoftOrnekBackendUyg
2021-09-14 11:29:12.707 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/api/invoices - -
2021-09-14 11:29:39.528 +03:00 [INF] User profile is available. Using 'C:\Users\muti5\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-14 11:29:40.131 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-14 11:29:40.133 +03:00 [INF] Hosting environment: Development
2021-09-14 11:29:40.137 +03:00 [INF] Content root path: C:\Users\muti5\source\repos\MicrosoftOrnekBackendUyg\MicrosoftOrnekBackendUyg
2021-09-14 11:29:40.210 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/api/invoices - -
2021-09-14 11:35:07.069 +03:00 [INF] User profile is available. Using 'C:\Users\muti5\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-14 11:35:07.664 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-14 11:35:07.668 +03:00 [INF] Hosting environment: Development
2021-09-14 11:35:07.671 +03:00 [INF] Content root path: C:\Users\muti5\source\repos\MicrosoftOrnekBackendUyg\MicrosoftOrnekBackendUyg
2021-09-14 11:35:07.763 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/api/invoices - -
2021-09-14 11:36:32.072 +03:00 [INF] User profile is available. Using 'C:\Users\muti5\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-14 11:36:32.614 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-14 11:36:32.617 +03:00 [INF] Hosting environment: Development
2021-09-14 11:36:32.624 +03:00 [INF] Content root path: C:\Users\muti5\source\repos\MicrosoftOrnekBackendUyg\MicrosoftOrnekBackendUyg
2021-09-14 11:36:32.681 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/api/invoices - -
2021-09-14 11:48:53.184 +03:00 [INF] User profile is available. Using 'C:\Users\muti5\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-14 11:48:53.747 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-14 11:48:53.750 +03:00 [INF] Hosting environment: Development
2021-09-14 11:48:53.761 +03:00 [INF] Content root path: C:\Users\muti5\source\repos\MicrosoftOrnekBackendUyg\MicrosoftOrnekBackendUyg
2021-09-14 11:48:53.825 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/api/invoices - -
2021-09-14 11:48:53.984 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-09-14 11:48:54.008 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-09-14 11:48:54.060 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44389/api/invoices - - - 401 - - 237.7364ms
2021-09-14 11:49:24.064 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44389/api/companies/ - -
2021-09-14 11:49:24.071 +03:00 [INF] CORS policy execution successful.
2021-09-14 11:49:24.077 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44389/api/companies/ - - - 204 - - 13.8606ms
2021-09-14 11:49:24.168 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/api/companies/ - -
2021-09-14 11:49:24.173 +03:00 [INF] CORS policy execution successful.
2021-09-14 11:49:24.512 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-09-14 11:49:24.561 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2021-09-14 11:49:24.570 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-09-14 11:49:24.576 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-09-14 11:49:24.580 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44389/api/companies/ - - - 401 - - 412.4577ms
2021-09-14 11:49:30.311 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44389/api/auth/CreateToken - -
2021-09-14 11:49:30.314 +03:00 [INF] CORS policy execution successful.
2021-09-14 11:49:30.318 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44389/api/auth/CreateToken - - - 204 - - 6.4643ms
2021-09-14 11:49:30.325 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44389/api/auth/CreateToken application/json;+charset=UTF-8 58
2021-09-14 11:49:30.328 +03:00 [INF] CORS policy execution successful.
2021-09-14 11:49:30.333 +03:00 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2021-09-14 11:49:30.339 +03:00 [INF] Executing endpoint 'MicrosoftOrnekBackendUyg.Controllers.AuthController.CreateToken (MicrosoftOrnekBackendUyg)'
2021-09-14 11:49:30.380 +03:00 [INF] Route matched with {action = "CreateToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateToken(MicrosoftOrnekBackendUyg.Core.DTOs.LoginDto) on controller MicrosoftOrnekBackendUyg.Controllers.AuthController (MicrosoftOrnekBackendUyg).
2021-09-14 11:49:31.485 +03:00 [INF] Entity Framework Core 5.0.9 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=MicrosoftOrnekBackendUyg.Data 
2021-09-14 11:49:32.063 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[City], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-09-14 11:49:32.345 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserId], [u].[Code], [u].[Expiration]
FROM [UserRefreshTokens] AS [u]
WHERE [u].[UserId] = @__user_Id_0
2021-09-14 11:49:32.459 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (Size = 450), @p0='?' (Size = 200), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UserRefreshTokens] SET [Code] = @p0, [Expiration] = @p1
WHERE [UserId] = @p2;
SELECT @@ROWCOUNT;
2021-09-14 11:49:32.492 +03:00 [INF] Executing CreatedResult, writing value of type 'MicrosoftOrnekBackendUyg.Common.DTOs.Response`1[[MicrosoftOrnekBackendUyg.Core.DTOs.TokenDto, MicrosoftOrnekBackendUyg.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-09-14 11:49:32.581 +03:00 [INF] Executed action MicrosoftOrnekBackendUyg.Controllers.AuthController.CreateToken (MicrosoftOrnekBackendUyg) in 2191.5798ms
2021-09-14 11:49:32.585 +03:00 [INF] Executed endpoint 'MicrosoftOrnekBackendUyg.Controllers.AuthController.CreateToken (MicrosoftOrnekBackendUyg)'
2021-09-14 11:49:32.593 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44389/api/auth/CreateToken application/json;+charset=UTF-8 58 - 201 - application/json;+charset=utf-8 2268.5620ms
2021-09-14 11:49:36.496 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44389/api/companies/ - -
2021-09-14 11:49:36.500 +03:00 [INF] CORS policy execution successful.
2021-09-14 11:49:36.503 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44389/api/companies/ - - - 204 - - 7.2687ms
2021-09-14 11:49:36.514 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/api/companies/ - -
2021-09-14 11:49:36.517 +03:00 [INF] CORS policy execution successful.
2021-09-14 11:49:36.538 +03:00 [INF] Successfully validated the token.
2021-09-14 11:49:36.544 +03:00 [INF] Authorization was successful.
2021-09-14 11:49:36.548 +03:00 [INF] Executing endpoint 'MicrosoftOrnekBackendUyg.Controllers.CompaniesController.GetAll (MicrosoftOrnekBackendUyg)'
2021-09-14 11:49:36.557 +03:00 [INF] Route matched with {action = "GetAll", controller = "Companies"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller MicrosoftOrnekBackendUyg.Controllers.CompaniesController (MicrosoftOrnekBackendUyg).
2021-09-14 11:49:36.596 +03:00 [INF] Entity Framework Core 5.0.9 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=MicrosoftOrnekBackendUyg.Data 
2021-09-14 11:49:36.614 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Category], [c].[CompanyCode], [c].[Name]
FROM [Companies] AS [c]
2021-09-14 11:49:36.629 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MicrosoftOrnekBackendUyg.Core.Models.Company, MicrosoftOrnekBackendUyg.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-09-14 11:49:36.642 +03:00 [INF] Executed action MicrosoftOrnekBackendUyg.Controllers.CompaniesController.GetAll (MicrosoftOrnekBackendUyg) in 81.0101ms
2021-09-14 11:49:36.644 +03:00 [INF] Executed endpoint 'MicrosoftOrnekBackendUyg.Controllers.CompaniesController.GetAll (MicrosoftOrnekBackendUyg)'
2021-09-14 11:49:36.648 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44389/api/companies/ - - - 200 - application/json;+charset=utf-8 134.5609ms
2021-09-14 11:49:45.341 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44389/api/companies/ - -
2021-09-14 11:49:45.344 +03:00 [INF] CORS policy execution successful.
2021-09-14 11:49:45.346 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44389/api/companies/ - - - 204 - - 5.2613ms
2021-09-14 11:49:45.351 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44389/api/companies/ application/json;+charset=UTF-8 57
2021-09-14 11:49:45.354 +03:00 [INF] CORS policy execution successful.
2021-09-14 11:49:45.358 +03:00 [INF] Successfully validated the token.
2021-09-14 11:49:45.362 +03:00 [INF] Authorization was successful.
2021-09-14 11:49:45.365 +03:00 [INF] Executing endpoint 'MicrosoftOrnekBackendUyg.Controllers.CompaniesController.Save (MicrosoftOrnekBackendUyg)'
2021-09-14 11:49:45.370 +03:00 [INF] Route matched with {action = "Save", controller = "Companies"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Save(MicrosoftOrnekBackendUyg.Core.Models.Company) on controller MicrosoftOrnekBackendUyg.Controllers.CompaniesController (MicrosoftOrnekBackendUyg).
2021-09-14 11:49:45.380 +03:00 [INF] Entity Framework Core 5.0.9 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=MicrosoftOrnekBackendUyg.Data 
2021-09-14 11:49:45.448 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Companies] ([Category], [CompanyCode], [Name])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [Companies]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2021-09-14 11:49:45.476 +03:00 [INF] MicrosoftOrnekBackendUyg.Core.Models.Company Ekleme Yapıldı.
2021-09-14 11:49:45.480 +03:00 [INF] Executing OkObjectResult, writing value of type 'MicrosoftOrnekBackendUyg.Core.Models.Company'.
2021-09-14 11:49:45.485 +03:00 [INF] Executed action MicrosoftOrnekBackendUyg.Controllers.CompaniesController.Save (MicrosoftOrnekBackendUyg) in 110.7765ms
2021-09-14 11:49:45.488 +03:00 [INF] Executed endpoint 'MicrosoftOrnekBackendUyg.Controllers.CompaniesController.Save (MicrosoftOrnekBackendUyg)'
2021-09-14 11:49:45.492 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44389/api/companies/ application/json;+charset=UTF-8 57 - 200 - application/json;+charset=utf-8 140.9748ms
2021-09-14 11:49:45.562 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/api/companies/ - -
2021-09-14 11:49:45.565 +03:00 [INF] CORS policy execution successful.
2021-09-14 11:49:45.570 +03:00 [INF] Successfully validated the token.
2021-09-14 11:49:45.573 +03:00 [INF] Authorization was successful.
2021-09-14 11:49:45.577 +03:00 [INF] Executing endpoint 'MicrosoftOrnekBackendUyg.Controllers.CompaniesController.GetAll (MicrosoftOrnekBackendUyg)'
2021-09-14 11:49:45.581 +03:00 [INF] Route matched with {action = "GetAll", controller = "Companies"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller MicrosoftOrnekBackendUyg.Controllers.CompaniesController (MicrosoftOrnekBackendUyg).
2021-09-14 11:49:45.587 +03:00 [INF] Entity Framework Core 5.0.9 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=MicrosoftOrnekBackendUyg.Data 
2021-09-14 11:49:45.594 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Category], [c].[CompanyCode], [c].[Name]
FROM [Companies] AS [c]
2021-09-14 11:49:45.600 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MicrosoftOrnekBackendUyg.Core.Models.Company, MicrosoftOrnekBackendUyg.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-09-14 11:49:45.604 +03:00 [INF] Executed action MicrosoftOrnekBackendUyg.Controllers.CompaniesController.GetAll (MicrosoftOrnekBackendUyg) in 19.5033ms
2021-09-14 11:49:45.607 +03:00 [INF] Executed endpoint 'MicrosoftOrnekBackendUyg.Controllers.CompaniesController.GetAll (MicrosoftOrnekBackendUyg)'
2021-09-14 11:49:45.611 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44389/api/companies/ - - - 200 - application/json;+charset=utf-8 49.7294ms
2021-09-14 12:12:58.118 +03:00 [INF] User profile is available. Using 'C:\Users\muti5\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-14 12:12:58.955 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-14 12:12:58.958 +03:00 [INF] Hosting environment: Development
2021-09-14 12:12:58.961 +03:00 [INF] Content root path: C:\Users\muti5\source\repos\MicrosoftOrnekBackendUyg\MicrosoftOrnekBackendUyg
2021-09-14 12:12:59.036 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/api/invoices - -
2021-09-14 12:12:59.036 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44389/api/companies/ - -
2021-09-14 12:12:59.055 +03:00 [INF] CORS policy execution successful.
2021-09-14 12:12:59.091 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44389/api/companies/ - - - 204 - - 55.8561ms
2021-09-14 12:12:59.095 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/api/companies/ - -
2021-09-14 12:12:59.105 +03:00 [INF] CORS policy execution successful.
2021-09-14 12:12:59.305 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-09-14 12:12:59.314 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-09-14 12:12:59.322 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44389/api/invoices - - - 401 - - 288.9905ms
2021-09-14 12:12:59.583 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-09-14 12:12:59.683 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2021-09-14 12:12:59.687 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-09-14 12:12:59.696 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-09-14 12:12:59.703 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44389/api/companies/ - - - 401 - - 607.3961ms
2021-09-14 13:37:59.549 +03:00 [INF] User profile is available. Using 'C:\Users\muti5\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-14 13:38:00.166 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-14 13:38:00.169 +03:00 [INF] Hosting environment: Development
2021-09-14 13:38:00.171 +03:00 [INF] Content root path: C:\Users\muti5\source\repos\MicrosoftOrnekBackendUyg\MicrosoftOrnekBackendUyg
2021-09-14 13:38:00.251 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/api/invoices - -
2021-09-14 13:38:00.439 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-09-14 13:38:00.448 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-09-14 13:38:00.492 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44389/api/invoices - - - 401 - - 244.0765ms
2021-09-14 13:38:04.839 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44389/api/companies/ - -
2021-09-14 13:38:04.848 +03:00 [INF] CORS policy execution successful.
2021-09-14 13:38:04.854 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44389/api/companies/ - - - 204 - - 15.5462ms
2021-09-14 13:38:04.866 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/api/companies/ - -
2021-09-14 13:38:04.868 +03:00 [INF] CORS policy execution successful.
2021-09-14 13:38:05.102 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-09-14 13:38:05.201 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2021-09-14 13:38:05.204 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-09-14 13:38:05.212 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-09-14 13:38:05.219 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44389/api/companies/ - - - 401 - - 353.3278ms
2021-09-14 13:38:09.284 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/api/companies/ - -
2021-09-14 13:38:09.287 +03:00 [INF] CORS policy execution successful.
2021-09-14 13:38:09.292 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-09-14 13:38:09.296 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2021-09-14 13:38:09.300 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-09-14 13:38:09.303 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-09-14 13:38:09.308 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44389/api/companies/ - - - 401 - - 24.6161ms
2021-09-14 13:38:14.016 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44389/api/auth/CreateToken - -
2021-09-14 13:38:14.019 +03:00 [INF] CORS policy execution successful.
2021-09-14 13:38:14.022 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44389/api/auth/CreateToken - - - 204 - - 5.8122ms
2021-09-14 13:38:14.064 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44389/api/auth/CreateToken application/json;+charset=UTF-8 58
2021-09-14 13:38:14.066 +03:00 [INF] CORS policy execution successful.
2021-09-14 13:38:14.070 +03:00 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2021-09-14 13:38:14.076 +03:00 [INF] Executing endpoint 'MicrosoftOrnekBackendUyg.Controllers.AuthController.CreateToken (MicrosoftOrnekBackendUyg)'
2021-09-14 13:38:14.137 +03:00 [INF] Route matched with {action = "CreateToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateToken(MicrosoftOrnekBackendUyg.Core.DTOs.LoginDto) on controller MicrosoftOrnekBackendUyg.Controllers.AuthController (MicrosoftOrnekBackendUyg).
2021-09-14 13:38:15.407 +03:00 [INF] Entity Framework Core 5.0.9 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=MicrosoftOrnekBackendUyg.Data 
2021-09-14 13:38:15.973 +03:00 [INF] Executed DbCommand (50ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[City], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-09-14 13:38:16.188 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserId], [u].[Code], [u].[Expiration]
FROM [UserRefreshTokens] AS [u]
WHERE [u].[UserId] = @__user_Id_0
2021-09-14 13:38:16.331 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (Size = 450), @p0='?' (Size = 200), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UserRefreshTokens] SET [Code] = @p0, [Expiration] = @p1
WHERE [UserId] = @p2;
SELECT @@ROWCOUNT;
2021-09-14 13:38:16.366 +03:00 [INF] Executing CreatedResult, writing value of type 'MicrosoftOrnekBackendUyg.Common.DTOs.Response`1[[MicrosoftOrnekBackendUyg.Core.DTOs.TokenDto, MicrosoftOrnekBackendUyg.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-09-14 13:38:16.418 +03:00 [INF] Executed action MicrosoftOrnekBackendUyg.Controllers.AuthController.CreateToken (MicrosoftOrnekBackendUyg) in 2272.7656ms
2021-09-14 13:38:16.423 +03:00 [INF] Executed endpoint 'MicrosoftOrnekBackendUyg.Controllers.AuthController.CreateToken (MicrosoftOrnekBackendUyg)'
2021-09-14 13:38:16.432 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44389/api/auth/CreateToken application/json;+charset=UTF-8 58 - 201 - application/json;+charset=utf-8 2368.7120ms
2021-09-14 13:38:18.416 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44389/api/companies/ - -
2021-09-14 13:38:18.419 +03:00 [INF] CORS policy execution successful.
2021-09-14 13:38:18.424 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44389/api/companies/ - - - 204 - - 7.8533ms
2021-09-14 13:38:18.434 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/api/companies/ - -
2021-09-14 13:38:18.438 +03:00 [INF] CORS policy execution successful.
2021-09-14 13:38:18.460 +03:00 [INF] Successfully validated the token.
2021-09-14 13:38:18.467 +03:00 [INF] Authorization was successful.
2021-09-14 13:38:18.471 +03:00 [INF] Executing endpoint 'MicrosoftOrnekBackendUyg.Controllers.CompaniesController.GetAll (MicrosoftOrnekBackendUyg)'
2021-09-14 13:38:18.482 +03:00 [INF] Route matched with {action = "GetAll", controller = "Companies"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller MicrosoftOrnekBackendUyg.Controllers.CompaniesController (MicrosoftOrnekBackendUyg).
2021-09-14 13:38:18.520 +03:00 [INF] Entity Framework Core 5.0.9 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=MicrosoftOrnekBackendUyg.Data 
2021-09-14 13:38:18.544 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Category], [c].[CompanyCode], [c].[Name]
FROM [Companies] AS [c]
2021-09-14 13:38:18.555 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MicrosoftOrnekBackendUyg.Core.Models.Company, MicrosoftOrnekBackendUyg.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-09-14 13:38:18.572 +03:00 [INF] Executed action MicrosoftOrnekBackendUyg.Controllers.CompaniesController.GetAll (MicrosoftOrnekBackendUyg) in 85.5223ms
2021-09-14 13:38:18.575 +03:00 [INF] Executed endpoint 'MicrosoftOrnekBackendUyg.Controllers.CompaniesController.GetAll (MicrosoftOrnekBackendUyg)'
2021-09-14 13:38:18.581 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44389/api/companies/ - - - 200 - application/json;+charset=utf-8 146.5967ms
2021-09-14 13:38:34.082 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44389/api/companies/ - -
2021-09-14 13:38:34.085 +03:00 [INF] CORS policy execution successful.
2021-09-14 13:38:34.088 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44389/api/companies/ - - - 204 - - 6.4400ms
2021-09-14 13:38:34.130 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44389/api/companies/ application/json;+charset=UTF-8 57
2021-09-14 13:38:34.133 +03:00 [INF] CORS policy execution successful.
2021-09-14 13:38:34.136 +03:00 [INF] Successfully validated the token.
2021-09-14 13:38:34.140 +03:00 [INF] Authorization was successful.
2021-09-14 13:38:34.145 +03:00 [INF] Executing endpoint 'MicrosoftOrnekBackendUyg.Controllers.CompaniesController.Save (MicrosoftOrnekBackendUyg)'
2021-09-14 13:38:34.151 +03:00 [INF] Route matched with {action = "Save", controller = "Companies"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Save(MicrosoftOrnekBackendUyg.Core.Models.Company) on controller MicrosoftOrnekBackendUyg.Controllers.CompaniesController (MicrosoftOrnekBackendUyg).
2021-09-14 13:38:34.165 +03:00 [INF] Entity Framework Core 5.0.9 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=MicrosoftOrnekBackendUyg.Data 
2021-09-14 13:38:34.234 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Companies] ([Category], [CompanyCode], [Name])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [Companies]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2021-09-14 13:38:34.266 +03:00 [INF] Ekleme İşlemi Yapıldı. Ekleme Yapılan Model => MicrosoftOrnekBackendUyg.Core.Models.Company
2021-09-14 13:38:34.270 +03:00 [INF] Executing OkObjectResult, writing value of type 'MicrosoftOrnekBackendUyg.Core.Models.Company'.
2021-09-14 13:38:34.275 +03:00 [INF] Executed action MicrosoftOrnekBackendUyg.Controllers.CompaniesController.Save (MicrosoftOrnekBackendUyg) in 120.7365ms
2021-09-14 13:38:34.280 +03:00 [INF] Executed endpoint 'MicrosoftOrnekBackendUyg.Controllers.CompaniesController.Save (MicrosoftOrnekBackendUyg)'
2021-09-14 13:38:34.284 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44389/api/companies/ application/json;+charset=UTF-8 57 - 200 - application/json;+charset=utf-8 154.1136ms
2021-09-14 13:38:34.341 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/api/companies/ - -
2021-09-14 13:38:34.344 +03:00 [INF] CORS policy execution successful.
2021-09-14 13:38:34.348 +03:00 [INF] Successfully validated the token.
2021-09-14 13:38:34.351 +03:00 [INF] Authorization was successful.
2021-09-14 13:38:34.355 +03:00 [INF] Executing endpoint 'MicrosoftOrnekBackendUyg.Controllers.CompaniesController.GetAll (MicrosoftOrnekBackendUyg)'
2021-09-14 13:38:34.359 +03:00 [INF] Route matched with {action = "GetAll", controller = "Companies"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller MicrosoftOrnekBackendUyg.Controllers.CompaniesController (MicrosoftOrnekBackendUyg).
2021-09-14 13:38:34.367 +03:00 [INF] Entity Framework Core 5.0.9 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=MicrosoftOrnekBackendUyg.Data 
2021-09-14 13:38:34.376 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Category], [c].[CompanyCode], [c].[Name]
FROM [Companies] AS [c]
2021-09-14 13:38:34.382 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MicrosoftOrnekBackendUyg.Core.Models.Company, MicrosoftOrnekBackendUyg.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-09-14 13:38:34.384 +03:00 [INF] Executed action MicrosoftOrnekBackendUyg.Controllers.CompaniesController.GetAll (MicrosoftOrnekBackendUyg) in 21.6438ms
2021-09-14 13:38:34.387 +03:00 [INF] Executed endpoint 'MicrosoftOrnekBackendUyg.Controllers.CompaniesController.GetAll (MicrosoftOrnekBackendUyg)'
2021-09-14 13:38:34.390 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44389/api/companies/ - - - 200 - application/json;+charset=utf-8 49.2540ms
2021-09-14 13:40:09.420 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44389/api/companies/ - -
2021-09-14 13:40:09.423 +03:00 [INF] CORS policy execution successful.
2021-09-14 13:40:09.426 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44389/api/companies/ - - - 204 - - 6.4916ms
2021-09-14 13:40:09.455 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/api/companies/ - -
2021-09-14 13:40:09.457 +03:00 [INF] CORS policy execution successful.
2021-09-14 13:40:09.461 +03:00 [INF] Successfully validated the token.
2021-09-14 13:40:09.464 +03:00 [INF] Authorization was successful.
2021-09-14 13:40:09.467 +03:00 [INF] Executing endpoint 'MicrosoftOrnekBackendUyg.Controllers.CompaniesController.GetAll (MicrosoftOrnekBackendUyg)'
2021-09-14 13:40:09.470 +03:00 [INF] Route matched with {action = "GetAll", controller = "Companies"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller MicrosoftOrnekBackendUyg.Controllers.CompaniesController (MicrosoftOrnekBackendUyg).
2021-09-14 13:40:09.473 +03:00 [INF] Entity Framework Core 5.0.9 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=MicrosoftOrnekBackendUyg.Data 
2021-09-14 13:40:09.489 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Category], [c].[CompanyCode], [c].[Name]
FROM [Companies] AS [c]
2021-09-14 13:40:09.494 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MicrosoftOrnekBackendUyg.Core.Models.Company, MicrosoftOrnekBackendUyg.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-09-14 13:40:09.497 +03:00 [INF] Executed action MicrosoftOrnekBackendUyg.Controllers.CompaniesController.GetAll (MicrosoftOrnekBackendUyg) in 24.9986ms
2021-09-14 13:40:09.501 +03:00 [INF] Executed endpoint 'MicrosoftOrnekBackendUyg.Controllers.CompaniesController.GetAll (MicrosoftOrnekBackendUyg)'
2021-09-14 13:40:09.504 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44389/api/companies/ - - - 200 - application/json;+charset=utf-8 49.5395ms
2021-09-14 13:40:27.301 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44389/api/companies/20 - -
2021-09-14 13:40:27.303 +03:00 [INF] CORS policy execution successful.
2021-09-14 13:40:27.306 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44389/api/companies/20 - - - 204 - - 5.5446ms
2021-09-14 13:40:27.345 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/api/companies/20 - -
2021-09-14 13:40:27.348 +03:00 [INF] CORS policy execution successful.
2021-09-14 13:40:27.351 +03:00 [INF] Successfully validated the token.
2021-09-14 13:40:27.354 +03:00 [INF] Authorization was successful.
2021-09-14 13:40:27.356 +03:00 [INF] Executing endpoint 'MicrosoftOrnekBackendUyg.Controllers.CompaniesController.GetById (MicrosoftOrnekBackendUyg)'
2021-09-14 13:40:27.365 +03:00 [INF] Route matched with {action = "GetById", controller = "Companies"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller MicrosoftOrnekBackendUyg.Controllers.CompaniesController (MicrosoftOrnekBackendUyg).
2021-09-14 13:40:27.368 +03:00 [INF] Entity Framework Core 5.0.9 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=MicrosoftOrnekBackendUyg.Data 
2021-09-14 13:40:27.401 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CompanyCode], [c].[Name]
FROM [Companies] AS [c]
WHERE [c].[Id] = @__p_0
2021-09-14 13:40:27.405 +03:00 [INF] Executing OkObjectResult, writing value of type 'MicrosoftOrnekBackendUyg.Core.Models.Company'.
2021-09-14 13:40:27.409 +03:00 [INF] Executed action MicrosoftOrnekBackendUyg.Controllers.CompaniesController.GetById (MicrosoftOrnekBackendUyg) in 40.9421ms
2021-09-14 13:40:27.413 +03:00 [INF] Executed endpoint 'MicrosoftOrnekBackendUyg.Controllers.CompaniesController.GetById (MicrosoftOrnekBackendUyg)'
2021-09-14 13:40:27.418 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44389/api/companies/20 - - - 200 - application/json;+charset=utf-8 70.8108ms
2021-09-14 13:53:08.947 +03:00 [INF] User profile is available. Using 'C:\Users\muti5\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-14 13:53:09.597 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-14 13:53:09.614 +03:00 [INF] Hosting environment: Development
2021-09-14 13:53:09.626 +03:00 [INF] Content root path: C:\Users\muti5\source\repos\MicrosoftOrnekBackendUyg\MicrosoftOrnekBackendUyg
2021-09-14 13:53:09.695 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/api/invoices - -
2021-09-14 13:53:09.815 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-09-14 13:53:09.823 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-09-14 13:53:09.866 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44389/api/invoices - - - 401 - - 174.0383ms
2021-09-14 13:56:24.350 +03:00 [INF] User profile is available. Using 'C:\Users\muti5\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-14 13:56:25.023 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-14 13:56:25.028 +03:00 [INF] Hosting environment: Development
2021-09-14 13:56:25.040 +03:00 [INF] Content root path: C:\Users\muti5\source\repos\MicrosoftOrnekBackendUyg\MicrosoftOrnekBackendUyg
2021-09-14 13:56:25.121 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/api/invoices - -
2021-09-14 13:56:25.285 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-09-14 13:56:25.294 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-09-14 13:56:25.329 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44389/api/invoices - - - 401 - - 248.7529ms
2021-09-14 13:57:47.525 +03:00 [INF] User profile is available. Using 'C:\Users\muti5\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-14 13:57:48.060 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-14 13:57:48.063 +03:00 [INF] Hosting environment: Development
2021-09-14 13:57:48.065 +03:00 [INF] Content root path: C:\Users\muti5\source\repos\MicrosoftOrnekBackendUyg\MicrosoftOrnekBackendUyg
2021-09-14 13:57:48.127 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/api/invoices - -
2021-09-14 13:57:48.255 +03:00 [INF] Executing endpoint 'MicrosoftOrnekBackendUyg.Controllers.InvoicesController.GetAll (MicrosoftOrnekBackendUyg)'
2021-09-14 13:57:48.289 +03:00 [INF] Route matched with {action = "GetAll", controller = "Invoices"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller MicrosoftOrnekBackendUyg.Controllers.InvoicesController (MicrosoftOrnekBackendUyg).
2021-09-14 13:57:49.281 +03:00 [INF] Entity Framework Core 5.0.9 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=MicrosoftOrnekBackendUyg.Data 
2021-09-14 13:57:49.747 +03:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [ı].[InvoiceId], [ı].[CompanyId], [ı].[DueDate], [ı].[ExcludingVat], [ı].[InvoiceNu], [ı].[InvoiceType], [ı].[IsComplete], [ı].[Name], [ı].[StatusCode], [ı].[Total], [ı].[TotalVat], [ı].[UserId]
FROM [Invoices] AS [ı]
2021-09-14 13:57:49.858 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MicrosoftOrnekBackendUyg.DTOs.InvoiceDto, MicrosoftOrnekBackendUyg, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-09-14 13:57:49.922 +03:00 [INF] Executed action MicrosoftOrnekBackendUyg.Controllers.InvoicesController.GetAll (MicrosoftOrnekBackendUyg) in 1624.4126ms
2021-09-14 13:57:49.929 +03:00 [INF] Executed endpoint 'MicrosoftOrnekBackendUyg.Controllers.InvoicesController.GetAll (MicrosoftOrnekBackendUyg)'
2021-09-14 13:57:49.957 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44389/api/invoices - - - 200 - application/json;+charset=utf-8 1832.1795ms
2021-09-14 13:57:50.237 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/favicon.ico - -
2021-09-14 13:57:50.243 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44389/favicon.ico - - - 404 - - 5.7385ms
2021-09-14 13:59:18.155 +03:00 [INF] User profile is available. Using 'C:\Users\muti5\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-14 13:59:18.738 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-14 13:59:18.754 +03:00 [INF] Hosting environment: Development
2021-09-14 13:59:18.761 +03:00 [INF] Content root path: C:\Users\muti5\source\repos\MicrosoftOrnekBackendUyg\MicrosoftOrnekBackendUyg
2021-09-14 13:59:18.832 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/api/invoices - -
2021-09-14 13:59:18.989 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-09-14 13:59:19.016 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-09-14 13:59:19.052 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44389/api/invoices - - - 401 - - 222.5706ms
2021-09-14 13:59:29.910 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/api/users - -
2021-09-14 13:59:29.918 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-09-14 13:59:29.922 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-09-14 13:59:29.925 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44389/api/users - - - 401 - - 15.2196ms
2021-09-14 13:59:37.553 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/api/todoitems - -
2021-09-14 13:59:37.560 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44389/api/todoitems - - - 404 - - 7.0780ms
2021-09-14 13:59:44.512 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/api/companies - -
2021-09-14 13:59:44.517 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-09-14 13:59:44.519 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-09-14 13:59:44.523 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44389/api/companies - - - 401 - - 11.6551ms
2021-09-14 14:00:08.420 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/api/auth/createtoken - -
2021-09-14 14:00:08.424 +03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2021-09-14 14:00:08.427 +03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2021-09-14 14:00:08.433 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44389/api/auth/createtoken - - - 405 - - 13.3380ms
2021-09-14 14:16:50.999 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44389/api/auth/CreateToken - -
2021-09-14 14:16:51.006 +03:00 [INF] CORS policy execution successful.
2021-09-14 14:16:51.011 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44389/api/auth/CreateToken - - - 204 - - 12.2366ms
2021-09-14 14:16:51.018 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44389/api/auth/CreateToken application/json;+charset=UTF-8 54
2021-09-14 14:16:51.021 +03:00 [INF] CORS policy execution successful.
2021-09-14 14:16:51.047 +03:00 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2021-09-14 14:16:51.050 +03:00 [INF] Executing endpoint 'MicrosoftOrnekBackendUyg.Controllers.AuthController.CreateToken (MicrosoftOrnekBackendUyg)'
2021-09-14 14:16:51.101 +03:00 [INF] Route matched with {action = "CreateToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateToken(MicrosoftOrnekBackendUyg.Core.DTOs.LoginDto) on controller MicrosoftOrnekBackendUyg.Controllers.AuthController (MicrosoftOrnekBackendUyg).
2021-09-14 14:16:52.507 +03:00 [INF] Entity Framework Core 5.0.9 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=MicrosoftOrnekBackendUyg.Data 
2021-09-14 14:16:53.135 +03:00 [INF] Executed DbCommand (57ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[City], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-09-14 14:16:53.487 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserId], [u].[Code], [u].[Expiration]
FROM [UserRefreshTokens] AS [u]
WHERE [u].[UserId] = @__user_Id_0
2021-09-14 14:16:53.660 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 200), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UserRefreshTokens] ([UserId], [Code], [Expiration])
VALUES (@p0, @p1, @p2);
2021-09-14 14:16:53.692 +03:00 [INF] Executing CreatedResult, writing value of type 'MicrosoftOrnekBackendUyg.Common.DTOs.Response`1[[MicrosoftOrnekBackendUyg.Core.DTOs.TokenDto, MicrosoftOrnekBackendUyg.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-09-14 14:16:53.749 +03:00 [INF] Executed action MicrosoftOrnekBackendUyg.Controllers.AuthController.CreateToken (MicrosoftOrnekBackendUyg) in 2638.5736ms
2021-09-14 14:16:53.755 +03:00 [INF] Executed endpoint 'MicrosoftOrnekBackendUyg.Controllers.AuthController.CreateToken (MicrosoftOrnekBackendUyg)'
2021-09-14 14:16:53.765 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44389/api/auth/CreateToken application/json;+charset=UTF-8 54 - 201 - application/json;+charset=utf-8 2746.9647ms
2021-09-14 14:17:44.495 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44389/api/auth/CreateToken - -
2021-09-14 14:17:44.499 +03:00 [INF] CORS policy execution successful.
2021-09-14 14:17:44.505 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44389/api/auth/CreateToken - - - 204 - - 10.3940ms
2021-09-14 14:17:44.511 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44389/api/auth/CreateToken application/json;+charset=UTF-8 54
2021-09-14 14:17:44.514 +03:00 [INF] CORS policy execution successful.
2021-09-14 14:17:44.518 +03:00 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2021-09-14 14:17:44.521 +03:00 [INF] Executing endpoint 'MicrosoftOrnekBackendUyg.Controllers.AuthController.CreateToken (MicrosoftOrnekBackendUyg)'
2021-09-14 14:17:44.526 +03:00 [INF] Route matched with {action = "CreateToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateToken(MicrosoftOrnekBackendUyg.Core.DTOs.LoginDto) on controller MicrosoftOrnekBackendUyg.Controllers.AuthController (MicrosoftOrnekBackendUyg).
2021-09-14 14:17:44.565 +03:00 [INF] Entity Framework Core 5.0.9 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=MicrosoftOrnekBackendUyg.Data 
2021-09-14 14:17:44.591 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[City], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-09-14 14:17:44.609 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserId], [u].[Code], [u].[Expiration]
FROM [UserRefreshTokens] AS [u]
WHERE [u].[UserId] = @__user_Id_0
2021-09-14 14:17:44.631 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (Size = 450), @p0='?' (Size = 200), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UserRefreshTokens] SET [Code] = @p0, [Expiration] = @p1
WHERE [UserId] = @p2;
SELECT @@ROWCOUNT;
2021-09-14 14:17:44.640 +03:00 [INF] Executing CreatedResult, writing value of type 'MicrosoftOrnekBackendUyg.Common.DTOs.Response`1[[MicrosoftOrnekBackendUyg.Core.DTOs.TokenDto, MicrosoftOrnekBackendUyg.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-09-14 14:17:44.651 +03:00 [INF] Executed action MicrosoftOrnekBackendUyg.Controllers.AuthController.CreateToken (MicrosoftOrnekBackendUyg) in 122.4751ms
2021-09-14 14:17:44.657 +03:00 [INF] Executed endpoint 'MicrosoftOrnekBackendUyg.Controllers.AuthController.CreateToken (MicrosoftOrnekBackendUyg)'
2021-09-14 14:17:44.662 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44389/api/auth/CreateToken application/json;+charset=UTF-8 54 - 201 - application/json;+charset=utf-8 150.6701ms
2021-09-14 14:18:04.649 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44389/api/companies/ - -
2021-09-14 14:18:04.653 +03:00 [INF] CORS policy execution successful.
2021-09-14 14:18:04.657 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44389/api/companies/ - - - 204 - - 7.4801ms
2021-09-14 14:18:04.664 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/api/companies/ - -
2021-09-14 14:18:04.668 +03:00 [INF] CORS policy execution successful.
2021-09-14 14:18:04.764 +03:00 [INF] Successfully validated the token.
2021-09-14 14:18:04.768 +03:00 [INF] Authorization was successful.
2021-09-14 14:18:04.772 +03:00 [INF] Executing endpoint 'MicrosoftOrnekBackendUyg.Controllers.CompaniesController.GetAll (MicrosoftOrnekBackendUyg)'
2021-09-14 14:18:04.778 +03:00 [INF] Route matched with {action = "GetAll", controller = "Companies"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller MicrosoftOrnekBackendUyg.Controllers.CompaniesController (MicrosoftOrnekBackendUyg).
2021-09-14 14:18:04.788 +03:00 [INF] Entity Framework Core 5.0.9 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=MicrosoftOrnekBackendUyg.Data 
2021-09-14 14:18:04.810 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Category], [c].[CompanyCode], [c].[Name]
FROM [Companies] AS [c]
2021-09-14 14:18:04.826 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MicrosoftOrnekBackendUyg.Core.Models.Company, MicrosoftOrnekBackendUyg.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-09-14 14:18:04.837 +03:00 [INF] Executed action MicrosoftOrnekBackendUyg.Controllers.CompaniesController.GetAll (MicrosoftOrnekBackendUyg) in 56.2748ms
2021-09-14 14:18:04.841 +03:00 [INF] Executed endpoint 'MicrosoftOrnekBackendUyg.Controllers.CompaniesController.GetAll (MicrosoftOrnekBackendUyg)'
2021-09-14 14:18:04.846 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44389/api/companies/ - - - 200 - application/json;+charset=utf-8 181.7183ms
2021-09-14 14:18:15.789 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44389/api/companies/ - -
2021-09-14 14:18:15.792 +03:00 [INF] CORS policy execution successful.
2021-09-14 14:18:15.796 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44389/api/companies/ - - - 204 - - 6.6973ms
2021-09-14 14:18:15.801 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44389/api/companies/ application/json;+charset=UTF-8 57
2021-09-14 14:18:15.804 +03:00 [INF] CORS policy execution successful.
2021-09-14 14:18:15.808 +03:00 [INF] Successfully validated the token.
2021-09-14 14:18:15.812 +03:00 [INF] Authorization was successful.
2021-09-14 14:18:15.816 +03:00 [INF] Executing endpoint 'MicrosoftOrnekBackendUyg.Controllers.CompaniesController.Save (MicrosoftOrnekBackendUyg)'
2021-09-14 14:18:15.822 +03:00 [INF] Route matched with {action = "Save", controller = "Companies"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Save(MicrosoftOrnekBackendUyg.Core.Models.Company) on controller MicrosoftOrnekBackendUyg.Controllers.CompaniesController (MicrosoftOrnekBackendUyg).
2021-09-14 14:18:15.826 +03:00 [INF] Entity Framework Core 5.0.9 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=MicrosoftOrnekBackendUyg.Data 
2021-09-14 14:18:15.866 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Companies] ([Category], [CompanyCode], [Name])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [Companies]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2021-09-14 14:18:15.897 +03:00 [INF] Ekleme İşlemi Yapıldı. Ekleme Yapılan Model => MicrosoftOrnekBackendUyg.Core.Models.Company
2021-09-14 14:18:15.901 +03:00 [INF] Executing OkObjectResult, writing value of type 'MicrosoftOrnekBackendUyg.Core.Models.Company'.
2021-09-14 14:18:15.906 +03:00 [INF] Executed action MicrosoftOrnekBackendUyg.Controllers.CompaniesController.Save (MicrosoftOrnekBackendUyg) in 80.4319ms
2021-09-14 14:18:15.910 +03:00 [INF] Executed endpoint 'MicrosoftOrnekBackendUyg.Controllers.CompaniesController.Save (MicrosoftOrnekBackendUyg)'
2021-09-14 14:18:15.914 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44389/api/companies/ application/json;+charset=UTF-8 57 - 200 - application/json;+charset=utf-8 113.0782ms
2021-09-14 14:18:16.001 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/api/companies/ - -
2021-09-14 14:18:16.004 +03:00 [INF] CORS policy execution successful.
2021-09-14 14:18:16.008 +03:00 [INF] Successfully validated the token.
2021-09-14 14:18:16.010 +03:00 [INF] Authorization was successful.
2021-09-14 14:18:16.013 +03:00 [INF] Executing endpoint 'MicrosoftOrnekBackendUyg.Controllers.CompaniesController.GetAll (MicrosoftOrnekBackendUyg)'
2021-09-14 14:18:16.017 +03:00 [INF] Route matched with {action = "GetAll", controller = "Companies"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller MicrosoftOrnekBackendUyg.Controllers.CompaniesController (MicrosoftOrnekBackendUyg).
2021-09-14 14:18:16.025 +03:00 [INF] Entity Framework Core 5.0.9 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=MicrosoftOrnekBackendUyg.Data 
2021-09-14 14:18:16.030 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Category], [c].[CompanyCode], [c].[Name]
FROM [Companies] AS [c]
2021-09-14 14:18:16.036 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MicrosoftOrnekBackendUyg.Core.Models.Company, MicrosoftOrnekBackendUyg.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-09-14 14:18:16.040 +03:00 [INF] Executed action MicrosoftOrnekBackendUyg.Controllers.CompaniesController.GetAll (MicrosoftOrnekBackendUyg) in 20.3393ms
2021-09-14 14:18:16.077 +03:00 [INF] Executed endpoint 'MicrosoftOrnekBackendUyg.Controllers.CompaniesController.GetAll (MicrosoftOrnekBackendUyg)'
2021-09-14 14:18:16.080 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44389/api/companies/ - - - 200 - application/json;+charset=utf-8 78.9114ms
2021-09-14 14:18:56.925 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44389/api/companies/ - -
2021-09-14 14:18:56.928 +03:00 [INF] CORS policy execution successful.
2021-09-14 14:18:56.933 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44389/api/companies/ - - - 204 - - 7.9236ms
2021-09-14 14:18:56.977 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44389/api/companies/ application/json;+charset=UTF-8 55
2021-09-14 14:18:56.981 +03:00 [INF] CORS policy execution successful.
2021-09-14 14:18:56.984 +03:00 [INF] Successfully validated the token.
2021-09-14 14:18:56.988 +03:00 [INF] Authorization was successful.
2021-09-14 14:18:56.992 +03:00 [INF] Executing endpoint 'MicrosoftOrnekBackendUyg.Controllers.CompaniesController.Save (MicrosoftOrnekBackendUyg)'
2021-09-14 14:18:56.995 +03:00 [INF] Route matched with {action = "Save", controller = "Companies"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Save(MicrosoftOrnekBackendUyg.Core.Models.Company) on controller MicrosoftOrnekBackendUyg.Controllers.CompaniesController (MicrosoftOrnekBackendUyg).
2021-09-14 14:18:56.999 +03:00 [INF] Entity Framework Core 5.0.9 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=MicrosoftOrnekBackendUyg.Data 
2021-09-14 14:18:57.013 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Companies] ([Category], [CompanyCode], [Name])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [Companies]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2021-09-14 14:18:57.025 +03:00 [INF] Ekleme İşlemi Yapıldı. Ekleme Yapılan Model => MicrosoftOrnekBackendUyg.Core.Models.Company
2021-09-14 14:18:57.029 +03:00 [INF] Executing OkObjectResult, writing value of type 'MicrosoftOrnekBackendUyg.Core.Models.Company'.
2021-09-14 14:18:57.034 +03:00 [INF] Executed action MicrosoftOrnekBackendUyg.Controllers.CompaniesController.Save (MicrosoftOrnekBackendUyg) in 35.1109ms
2021-09-14 14:18:57.037 +03:00 [INF] Executed endpoint 'MicrosoftOrnekBackendUyg.Controllers.CompaniesController.Save (MicrosoftOrnekBackendUyg)'
2021-09-14 14:18:57.049 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44389/api/companies/ application/json;+charset=UTF-8 55 - 200 - application/json;+charset=utf-8 67.1850ms
2021-09-14 14:18:57.120 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/api/companies/ - -
2021-09-14 14:18:57.124 +03:00 [INF] CORS policy execution successful.
2021-09-14 14:18:57.127 +03:00 [INF] Successfully validated the token.
2021-09-14 14:18:57.130 +03:00 [INF] Authorization was successful.
2021-09-14 14:18:57.134 +03:00 [INF] Executing endpoint 'MicrosoftOrnekBackendUyg.Controllers.CompaniesController.GetAll (MicrosoftOrnekBackendUyg)'
2021-09-14 14:18:57.137 +03:00 [INF] Route matched with {action = "GetAll", controller = "Companies"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller MicrosoftOrnekBackendUyg.Controllers.CompaniesController (MicrosoftOrnekBackendUyg).
2021-09-14 14:18:57.141 +03:00 [INF] Entity Framework Core 5.0.9 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=MicrosoftOrnekBackendUyg.Data 
2021-09-14 14:18:57.147 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Category], [c].[CompanyCode], [c].[Name]
FROM [Companies] AS [c]
2021-09-14 14:18:57.151 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MicrosoftOrnekBackendUyg.Core.Models.Company, MicrosoftOrnekBackendUyg.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-09-14 14:18:57.155 +03:00 [INF] Executed action MicrosoftOrnekBackendUyg.Controllers.CompaniesController.GetAll (MicrosoftOrnekBackendUyg) in 14.3141ms
2021-09-14 14:18:57.161 +03:00 [INF] Executed endpoint 'MicrosoftOrnekBackendUyg.Controllers.CompaniesController.GetAll (MicrosoftOrnekBackendUyg)'
2021-09-14 14:18:57.165 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44389/api/companies/ - - - 200 - application/json;+charset=utf-8 44.7581ms
2021-09-14 14:21:02.137 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/api/auth/createtoken - -
2021-09-14 14:21:02.140 +03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2021-09-14 14:21:02.145 +03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2021-09-14 14:21:02.152 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44389/api/auth/createtoken - - - 405 - - 14.5799ms
2021-09-14 14:21:05.009 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/api - -
2021-09-14 14:21:05.015 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44389/api - - - 404 - - 5.7370ms
2021-09-14 14:21:09.693 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/api/invoices - -
2021-09-14 14:21:09.697 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-09-14 14:21:09.701 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-09-14 14:21:09.705 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44389/api/invoices - - - 401 - - 11.4428ms
2021-09-14 14:21:10.894 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/api/invoices - -
2021-09-14 14:21:10.899 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-09-14 14:21:10.902 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-09-14 14:21:10.907 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44389/api/invoices - - - 401 - - 12.6262ms
2021-09-14 14:21:14.855 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/api/invoices - -
2021-09-14 14:21:14.859 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-09-14 14:21:14.864 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-09-14 14:21:14.868 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44389/api/invoices - - - 401 - - 13.3228ms
2021-09-14 14:27:38.782 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44389/api/companies/ - -
2021-09-14 14:27:38.792 +03:00 [INF] CORS policy execution successful.
2021-09-14 14:27:38.795 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44389/api/companies/ - - - 204 - - 12.9525ms
2021-09-14 14:27:38.868 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/api/companies/ - -
2021-09-14 14:27:38.871 +03:00 [INF] CORS policy execution successful.
2021-09-14 14:27:38.887 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-09-14 14:27:38.973 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2021-09-14 14:27:38.978 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-09-14 14:27:38.985 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-09-14 14:27:38.989 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44389/api/companies/ - - - 401 - - 121.0938ms
2021-09-14 14:27:55.074 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44389/api/auth/CreateToken - -
2021-09-14 14:27:55.078 +03:00 [INF] CORS policy execution successful.
2021-09-14 14:27:55.083 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44389/api/auth/CreateToken - - - 204 - - 9.1896ms
2021-09-14 14:27:55.110 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44389/api/auth/CreateToken application/json;+charset=UTF-8 58
2021-09-14 14:27:55.115 +03:00 [INF] CORS policy execution successful.
2021-09-14 14:27:55.119 +03:00 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2021-09-14 14:27:55.123 +03:00 [INF] Executing endpoint 'MicrosoftOrnekBackendUyg.Controllers.AuthController.CreateToken (MicrosoftOrnekBackendUyg)'
2021-09-14 14:27:55.130 +03:00 [INF] Route matched with {action = "CreateToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateToken(MicrosoftOrnekBackendUyg.Core.DTOs.LoginDto) on controller MicrosoftOrnekBackendUyg.Controllers.AuthController (MicrosoftOrnekBackendUyg).
2021-09-14 14:27:55.144 +03:00 [INF] Entity Framework Core 5.0.9 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=MicrosoftOrnekBackendUyg.Data 
2021-09-14 14:27:55.155 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[City], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-09-14 14:27:55.176 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserId], [u].[Code], [u].[Expiration]
FROM [UserRefreshTokens] AS [u]
WHERE [u].[UserId] = @__user_Id_0
2021-09-14 14:27:55.186 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p2='?' (Size = 450), @p0='?' (Size = 200), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UserRefreshTokens] SET [Code] = @p0, [Expiration] = @p1
WHERE [UserId] = @p2;
SELECT @@ROWCOUNT;
2021-09-14 14:27:55.192 +03:00 [INF] Executing CreatedResult, writing value of type 'MicrosoftOrnekBackendUyg.Common.DTOs.Response`1[[MicrosoftOrnekBackendUyg.Core.DTOs.TokenDto, MicrosoftOrnekBackendUyg.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-09-14 14:27:55.198 +03:00 [INF] Executed action MicrosoftOrnekBackendUyg.Controllers.AuthController.CreateToken (MicrosoftOrnekBackendUyg) in 63.7384ms
2021-09-14 14:27:55.230 +03:00 [INF] Executed endpoint 'MicrosoftOrnekBackendUyg.Controllers.AuthController.CreateToken (MicrosoftOrnekBackendUyg)'
2021-09-14 14:27:55.236 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44389/api/auth/CreateToken application/json;+charset=UTF-8 58 - 201 - application/json;+charset=utf-8 126.1645ms
2021-09-14 14:27:58.727 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44389/api/companies/ - -
2021-09-14 14:27:58.731 +03:00 [INF] CORS policy execution successful.
2021-09-14 14:27:58.735 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44389/api/companies/ - - - 204 - - 7.6329ms
2021-09-14 14:27:58.747 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/api/companies/ - -
2021-09-14 14:27:58.751 +03:00 [INF] CORS policy execution successful.
2021-09-14 14:27:58.755 +03:00 [INF] Successfully validated the token.
2021-09-14 14:27:58.760 +03:00 [INF] Authorization was successful.
2021-09-14 14:27:58.764 +03:00 [INF] Executing endpoint 'MicrosoftOrnekBackendUyg.Controllers.CompaniesController.GetAll (MicrosoftOrnekBackendUyg)'
2021-09-14 14:27:58.767 +03:00 [INF] Route matched with {action = "GetAll", controller = "Companies"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller MicrosoftOrnekBackendUyg.Controllers.CompaniesController (MicrosoftOrnekBackendUyg).
2021-09-14 14:27:58.771 +03:00 [INF] Entity Framework Core 5.0.9 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=MicrosoftOrnekBackendUyg.Data 
2021-09-14 14:27:58.780 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Category], [c].[CompanyCode], [c].[Name]
FROM [Companies] AS [c]
2021-09-14 14:27:58.783 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MicrosoftOrnekBackendUyg.Core.Models.Company, MicrosoftOrnekBackendUyg.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-09-14 14:27:58.787 +03:00 [INF] Executed action MicrosoftOrnekBackendUyg.Controllers.CompaniesController.GetAll (MicrosoftOrnekBackendUyg) in 15.7085ms
2021-09-14 14:27:58.792 +03:00 [INF] Executed endpoint 'MicrosoftOrnekBackendUyg.Controllers.CompaniesController.GetAll (MicrosoftOrnekBackendUyg)'
2021-09-14 14:27:58.797 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44389/api/companies/ - - - 200 - application/json;+charset=utf-8 50.7615ms
2021-09-14 14:31:17.288 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44389/api/companies/ - -
2021-09-14 14:31:17.297 +03:00 [INF] CORS policy execution successful.
2021-09-14 14:31:17.301 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44389/api/companies/ - - - 204 - - 12.4921ms
2021-09-14 14:31:17.437 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/api/companies/ - -
2021-09-14 14:31:17.445 +03:00 [INF] CORS policy execution successful.
2021-09-14 14:31:17.449 +03:00 [INF] Successfully validated the token.
2021-09-14 14:31:17.452 +03:00 [INF] Authorization was successful.
2021-09-14 14:31:17.456 +03:00 [INF] Executing endpoint 'MicrosoftOrnekBackendUyg.Controllers.CompaniesController.GetAll (MicrosoftOrnekBackendUyg)'
2021-09-14 14:31:17.460 +03:00 [INF] Route matched with {action = "GetAll", controller = "Companies"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller MicrosoftOrnekBackendUyg.Controllers.CompaniesController (MicrosoftOrnekBackendUyg).
2021-09-14 14:31:17.466 +03:00 [INF] Entity Framework Core 5.0.9 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=MicrosoftOrnekBackendUyg.Data 
2021-09-14 14:31:17.477 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Category], [c].[CompanyCode], [c].[Name]
FROM [Companies] AS [c]
2021-09-14 14:31:17.481 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MicrosoftOrnekBackendUyg.Core.Models.Company, MicrosoftOrnekBackendUyg.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-09-14 14:31:17.484 +03:00 [INF] Executed action MicrosoftOrnekBackendUyg.Controllers.CompaniesController.GetAll (MicrosoftOrnekBackendUyg) in 20.4175ms
2021-09-14 14:31:17.515 +03:00 [INF] Executed endpoint 'MicrosoftOrnekBackendUyg.Controllers.CompaniesController.GetAll (MicrosoftOrnekBackendUyg)'
2021-09-14 14:31:17.521 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44389/api/companies/ - - - 200 - application/json;+charset=utf-8 84.2216ms
2021-09-14 14:31:25.660 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44389/api/companies/19 - -
2021-09-14 14:31:25.663 +03:00 [INF] CORS policy execution successful.
2021-09-14 14:31:25.667 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44389/api/companies/19 - - - 204 - - 6.5484ms
2021-09-14 14:31:25.674 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:44389/api/companies/19 application/json;+charset=UTF-8 -
2021-09-14 14:31:25.677 +03:00 [INF] CORS policy execution successful.
2021-09-14 14:31:25.682 +03:00 [INF] Successfully validated the token.
2021-09-14 14:31:25.685 +03:00 [INF] Authorization was successful.
2021-09-14 14:31:25.689 +03:00 [INF] Executing endpoint 'MicrosoftOrnekBackendUyg.Controllers.CompaniesController.Remove (MicrosoftOrnekBackendUyg)'
2021-09-14 14:31:25.697 +03:00 [INF] Route matched with {action = "Remove", controller = "Companies"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Remove(Int32) on controller MicrosoftOrnekBackendUyg.Controllers.CompaniesController (MicrosoftOrnekBackendUyg).
2021-09-14 14:31:25.702 +03:00 [INF] Entity Framework Core 5.0.9 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=MicrosoftOrnekBackendUyg.Data 
2021-09-14 14:31:25.737 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Category], [c].[CompanyCode], [c].[Name]
FROM [Companies] AS [c]
WHERE [c].[Id] = @__p_0
2021-09-14 14:31:25.772 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Companies]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;
2021-09-14 14:31:25.782 +03:00 [INF] Silme İşlemi Yapıldı. Silme Yapılan Model => MicrosoftOrnekBackendUyg.Core.Models.Company
2021-09-14 14:31:25.794 +03:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
2021-09-14 14:31:25.797 +03:00 [INF] Executed action MicrosoftOrnekBackendUyg.Controllers.CompaniesController.Remove (MicrosoftOrnekBackendUyg) in 95.625ms
2021-09-14 14:31:25.801 +03:00 [INF] Executed endpoint 'MicrosoftOrnekBackendUyg.Controllers.CompaniesController.Remove (MicrosoftOrnekBackendUyg)'
2021-09-14 14:31:25.805 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:44389/api/companies/19 application/json;+charset=UTF-8 - - 204 - - 131.1063ms
2021-09-14 14:37:47.641 +03:00 [INF] User profile is available. Using 'C:\Users\muti5\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-14 14:37:48.292 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-14 14:37:48.296 +03:00 [INF] Hosting environment: Development
2021-09-14 14:37:48.302 +03:00 [INF] Content root path: C:\Users\muti5\source\repos\MicrosoftOrnekBackendUyg\MicrosoftOrnekBackendUyg
2021-09-14 14:37:48.373 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/api/invoices - -
2021-09-14 14:38:21.425 +03:00 [INF] User profile is available. Using 'C:\Users\muti5\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-14 14:38:21.890 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-14 14:38:21.893 +03:00 [INF] Hosting environment: Development
2021-09-14 14:38:21.896 +03:00 [INF] Content root path: C:\Users\muti5\source\repos\MicrosoftOrnekBackendUyg\MicrosoftOrnekBackendUyg
2021-09-14 14:38:21.946 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/api/invoices - -
2021-09-14 14:38:22.089 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-09-14 14:38:22.100 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-09-14 14:38:22.306 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44389/api/invoices - - - 401 - - 361.9068ms
2021-09-14 14:38:42.415 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44389/api/companies/ - -
2021-09-14 14:38:42.421 +03:00 [INF] CORS policy execution successful.
2021-09-14 14:38:42.427 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44389/api/companies/ - - - 204 - - 12.0095ms
2021-09-14 14:38:42.432 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/api/companies/ - -
2021-09-14 14:38:42.435 +03:00 [INF] CORS policy execution successful.
2021-09-14 14:38:42.841 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-09-14 14:38:42.898 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2021-09-14 14:38:42.902 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-09-14 14:38:42.908 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-09-14 14:38:42.913 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44389/api/companies/ - - - 401 - - 480.3609ms
2021-09-14 14:38:50.512 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44389/api/auth/CreateToken - -
2021-09-14 14:38:50.515 +03:00 [INF] CORS policy execution successful.
2021-09-14 14:38:50.518 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44389/api/auth/CreateToken - - - 204 - - 5.4521ms
2021-09-14 14:38:50.523 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44389/api/auth/CreateToken application/json;+charset=UTF-8 58
2021-09-14 14:38:50.526 +03:00 [INF] CORS policy execution successful.
2021-09-14 14:38:50.530 +03:00 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2021-09-14 14:38:50.534 +03:00 [INF] Executing endpoint 'MicrosoftOrnekBackendUyg.Controllers.AuthController.CreateToken (MicrosoftOrnekBackendUyg)'
2021-09-14 14:38:50.573 +03:00 [INF] Route matched with {action = "CreateToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateToken(MicrosoftOrnekBackendUyg.Core.DTOs.LoginDto) on controller MicrosoftOrnekBackendUyg.Controllers.AuthController (MicrosoftOrnekBackendUyg).
2021-09-14 14:38:51.688 +03:00 [INF] Entity Framework Core 5.0.9 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=MicrosoftOrnekBackendUyg.Data 
2021-09-14 14:38:52.156 +03:00 [INF] Executed DbCommand (67ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[City], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-09-14 14:38:52.364 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserId], [u].[Code], [u].[Expiration]
FROM [UserRefreshTokens] AS [u]
WHERE [u].[UserId] = @__user_Id_0
2021-09-14 14:38:52.602 +03:00 [INF] Executed DbCommand (103ms) [Parameters=[@p2='?' (Size = 450), @p0='?' (Size = 200), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UserRefreshTokens] SET [Code] = @p0, [Expiration] = @p1
WHERE [UserId] = @p2;
SELECT @@ROWCOUNT;
2021-09-14 14:38:52.733 +03:00 [INF] Executing CreatedResult, writing value of type 'MicrosoftOrnekBackendUyg.Common.DTOs.Response`1[[MicrosoftOrnekBackendUyg.Core.DTOs.TokenDto, MicrosoftOrnekBackendUyg.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-09-14 14:38:52.937 +03:00 [INF] Executed action MicrosoftOrnekBackendUyg.Controllers.AuthController.CreateToken (MicrosoftOrnekBackendUyg) in 2355.019ms
2021-09-14 14:38:52.943 +03:00 [INF] Executed endpoint 'MicrosoftOrnekBackendUyg.Controllers.AuthController.CreateToken (MicrosoftOrnekBackendUyg)'
2021-09-14 14:38:52.952 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44389/api/auth/CreateToken application/json;+charset=UTF-8 58 - 201 - application/json;+charset=utf-8 2429.3140ms
2021-09-14 14:38:54.536 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44389/api/companies/ - -
2021-09-14 14:38:54.538 +03:00 [INF] CORS policy execution successful.
2021-09-14 14:38:54.541 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44389/api/companies/ - - - 204 - - 5.5370ms
2021-09-14 14:38:54.546 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/api/companies/ - -
2021-09-14 14:38:54.549 +03:00 [INF] CORS policy execution successful.
2021-09-14 14:38:54.570 +03:00 [INF] Successfully validated the token.
2021-09-14 14:38:54.576 +03:00 [INF] Authorization was successful.
2021-09-14 14:38:54.581 +03:00 [INF] Executing endpoint 'MicrosoftOrnekBackendUyg.Controllers.CompaniesController.GetAll (MicrosoftOrnekBackendUyg)'
2021-09-14 14:38:54.587 +03:00 [INF] Route matched with {action = "GetAll", controller = "Companies"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller MicrosoftOrnekBackendUyg.Controllers.CompaniesController (MicrosoftOrnekBackendUyg).
2021-09-14 14:38:54.616 +03:00 [INF] Entity Framework Core 5.0.9 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=MicrosoftOrnekBackendUyg.Data 
2021-09-14 14:38:54.623 +03:00 [INF] Tüm Verileri Listeleme İşlemi Yapıldı.
2021-09-14 14:38:54.646 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Category], [c].[CompanyCode], [c].[Name]
FROM [Companies] AS [c]
2021-09-14 14:38:54.662 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MicrosoftOrnekBackendUyg.Core.Models.Company, MicrosoftOrnekBackendUyg.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-09-14 14:38:54.674 +03:00 [INF] Executed action MicrosoftOrnekBackendUyg.Controllers.CompaniesController.GetAll (MicrosoftOrnekBackendUyg) in 82.8186ms
2021-09-14 14:38:54.676 +03:00 [INF] Executed endpoint 'MicrosoftOrnekBackendUyg.Controllers.CompaniesController.GetAll (MicrosoftOrnekBackendUyg)'
2021-09-14 14:38:54.681 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44389/api/companies/ - - - 200 - application/json;+charset=utf-8 134.8670ms
2021-09-14 14:45:41.740 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44389/api/companies/ - -
2021-09-14 14:45:41.744 +03:00 [INF] CORS policy execution successful.
2021-09-14 14:45:41.747 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44389/api/companies/ - - - 204 - - 6.5202ms
2021-09-14 14:45:41.762 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/api/companies/ - -
2021-09-14 14:45:41.765 +03:00 [INF] CORS policy execution successful.
2021-09-14 14:45:41.769 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-09-14 14:45:41.773 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2021-09-14 14:45:41.782 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-09-14 14:45:41.785 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-09-14 14:45:41.817 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44389/api/companies/ - - - 401 - - 53.6609ms
2021-09-14 15:44:07.289 +03:00 [INF] User profile is available. Using 'C:\Users\muti5\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-14 15:44:08.035 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-14 15:44:08.037 +03:00 [INF] Hosting environment: Development
2021-09-14 15:44:08.039 +03:00 [INF] Content root path: C:\Users\muti5\source\repos\MicrosoftOrnekBackendUyg\MicrosoftOrnekBackendUyg
2021-09-14 15:44:08.094 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44389/api/invoices - -
2021-09-14 15:44:08.250 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-09-14 15:44:08.258 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-09-14 15:44:08.299 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44389/api/invoices - - - 401 - - 207.0140ms
2021-09-14 15:44:26.664 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44389/api/auth/CreateToken - -
2021-09-14 15:44:26.669 +03:00 [INF] CORS policy execution successful.
2021-09-14 15:44:26.673 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44389/api/auth/CreateToken - - - 204 - - 9.5802ms
2021-09-14 15:44:26.683 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44389/api/auth/CreateToken application/json;+charset=UTF-8 58
2021-09-14 15:44:26.686 +03:00 [INF] CORS policy execution successful.
2021-09-14 15:44:26.719 +03:00 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2021-09-14 15:44:26.724 +03:00 [INF] Executing endpoint 'MicrosoftOrnekBackendUyg.Controllers.AuthController.CreateToken (MicrosoftOrnekBackendUyg)'
2021-09-14 15:44:26.788 +03:00 [INF] Route matched with {action = "CreateToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateToken(MicrosoftOrnekBackendUyg.Core.DTOs.LoginDto) on controller MicrosoftOrnekBackendUyg.Controllers.AuthController (MicrosoftOrnekBackendUyg).
2021-09-14 15:44:27.926 +03:00 [INF] Entity Framework Core 5.0.9 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=MicrosoftOrnekBackendUyg.Data 
2021-09-14 15:44:28.490 +03:00 [INF] Executed DbCommand (129ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[City], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-09-14 15:44:28.874 +03:00 [INF] Executed DbCommand (71ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserId], [u].[Code], [u].[Expiration]
FROM [UserRefreshTokens] AS [u]
WHERE [u].[UserId] = @__user_Id_0
2021-09-14 15:44:29.204 +03:00 [INF] Executed DbCommand (173ms) [Parameters=[@p2='?' (Size = 450), @p0='?' (Size = 200), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UserRefreshTokens] SET [Code] = @p0, [Expiration] = @p1
WHERE [UserId] = @p2;
SELECT @@ROWCOUNT;
2021-09-14 15:44:29.239 +03:00 [INF] Executing CreatedResult, writing value of type 'MicrosoftOrnekBackendUyg.Common.DTOs.Response`1[[MicrosoftOrnekBackendUyg.Core.DTOs.TokenDto, MicrosoftOrnekBackendUyg.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-09-14 15:44:29.287 +03:00 [INF] Executed action MicrosoftOrnekBackendUyg.Controllers.AuthController.CreateToken (MicrosoftOrnekBackendUyg) in 2490.3932ms
2021-09-14 15:44:29.291 +03:00 [INF] Executed endpoint 'MicrosoftOrnekBackendUyg.Controllers.AuthController.CreateToken (MicrosoftOrnekBackendUyg)'
2021-09-14 15:44:29.300 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44389/api/auth/CreateToken application/json;+charset=UTF-8 58 - 201 - application/json;+charset=utf-8 2617.0193ms
2021-09-14 15:51:55.993 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44389/api/auth/CreateToken - -
2021-09-14 15:51:55.996 +03:00 [INF] CORS policy execution successful.
2021-09-14 15:51:55.999 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44389/api/auth/CreateToken - - - 204 - - 6.5289ms
2021-09-14 15:51:56.016 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44389/api/auth/CreateToken application/json;+charset=UTF-8 58
2021-09-14 15:51:56.020 +03:00 [INF] CORS policy execution successful.
2021-09-14 15:51:56.031 +03:00 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2021-09-14 15:51:56.034 +03:00 [INF] Executing endpoint 'MicrosoftOrnekBackendUyg.Controllers.AuthController.CreateToken (MicrosoftOrnekBackendUyg)'
2021-09-14 15:51:56.037 +03:00 [INF] Route matched with {action = "CreateToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateToken(MicrosoftOrnekBackendUyg.Core.DTOs.LoginDto) on controller MicrosoftOrnekBackendUyg.Controllers.AuthController (MicrosoftOrnekBackendUyg).
2021-09-14 15:51:56.085 +03:00 [INF] Entity Framework Core 5.0.9 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=MicrosoftOrnekBackendUyg.Data 
2021-09-14 15:51:56.136 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[City], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-09-14 15:51:56.162 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserId], [u].[Code], [u].[Expiration]
FROM [UserRefreshTokens] AS [u]
WHERE [u].[UserId] = @__user_Id_0
2021-09-14 15:51:56.174 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (Size = 450), @p0='?' (Size = 200), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UserRefreshTokens] SET [Code] = @p0, [Expiration] = @p1
WHERE [UserId] = @p2;
SELECT @@ROWCOUNT;
2021-09-14 15:51:56.185 +03:00 [INF] Executing CreatedResult, writing value of type 'MicrosoftOrnekBackendUyg.Common.DTOs.Response`1[[MicrosoftOrnekBackendUyg.Core.DTOs.TokenDto, MicrosoftOrnekBackendUyg.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-09-14 15:51:56.196 +03:00 [INF] Executed action MicrosoftOrnekBackendUyg.Controllers.AuthController.CreateToken (MicrosoftOrnekBackendUyg) in 156.2481ms
2021-09-14 15:51:56.200 +03:00 [INF] Executed endpoint 'MicrosoftOrnekBackendUyg.Controllers.AuthController.CreateToken (MicrosoftOrnekBackendUyg)'
2021-09-14 15:51:56.205 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44389/api/auth/CreateToken application/json;+charset=UTF-8 58 - 201 - application/json;+charset=utf-8 188.4224ms
